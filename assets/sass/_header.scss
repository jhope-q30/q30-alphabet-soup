@use "abstracts/variables" as v;
@use "navigation/navigation";
@use "mixins";
@use "transition";

##{v.$site_header} {

    --#{v.$prefix}padding-top: #{ map-get( v.$spacing, 'lg' ) };
    --#{v.$prefix}padding-bottom: #{ map-get( v.$spacing, 'lg' ) - 2px };
    --#{v.$prefix}column-gap: #{ map-get( v.$spacing, 'md' ) };
    --#{v.$prefix}row-gap: #{ map-get( v.$gutters, 'xs' ) };

    @include transition.x-transition( box-shadow );

    position: relative;
    display:flex;
    top:0;
    z-index:#{ map-get( v.$z-index, 'header' ) };
    column-gap:var( --#{v.$prefix}column-gap );
    row-gap:var( --#{v.$prefix}row-gap );
    padding-right:var( --#{v.$page_gutter_x} );
    background-color: var( --#{v.$prefix}body-background-color );

    @media screen and ( min-width: #{ map-get( v.$breakpoints, "mobile" ) } ) { flex-wrap:wrap; }

    /** when sticky */
    &.#{v.$sticky_header}{
        
        --#{v.$prefix}padding-top: #{ map-get( v.$spacing, 'md' ) };
        --#{v.$prefix}padding-bottom: #{ map-get( v.$spacing, 'md' ) - 6px };

        box-shadow: 0 1px 1px 0 rgba( 0, 0, 0, 0.2 );
        position: sticky;

    }

    /** Q30 design/home link */
    .#{v.$site_header_main}{

        position: relative;
        display:flex;
        column-gap:var( --#{v.$prefix}column-gap );
        row-gap:var( --#{v.$prefix}row-gap );
        flex-shrink:0;
        flex-grow:1;
        padding-top:var( --#{v.$prefix}padding-top );
        padding-bottom:var( --#{v.$prefix}padding-bottom );
        background-color: var( --#{v.$prefix}background-color );
        z-index:#{ map-get( v.$z-index, 'header' ) };

        @include transition.x-transition( padding );

        * { order:1; }

        /** Q30 site branding */
        .#{v.$branding}{

            flex-grow:1;
            flex-shrink:0;
            z-index:#{ map-get( v.$z-index, 'header' ) };

            > a {
                
                @include navigation.navlink();

                --#{v.$prefix}display: inline-block;
            
            }

        }

    }

}

/** menu open, add dropshadow */
.#{v.$menu_open} {

    ##{v.$site_header} {

        @include mixins.dropshadow();

    }

}