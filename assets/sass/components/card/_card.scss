@use "abstracts/variables" as v;
@use "elements/link";
@use "transition";
@use "mixins";

.#{v.$card}{

    --#{v.$prefix}padding-top: #{ map-get( v.$gutters, 'sm' ) };
    --#{v.$prefix}padding-bottom: #{ map-get( v.$gutters, 'sm' ) };
    --#{v.$prefix}padding-left: 0;
    --#{v.$prefix}padding-right: 0;
    --#{v.$prefix}card-display: block;
    --#{v.$prefix}background-color: transparent;

    display:var( --#{v.$prefix}card-display );
    padding-top:var( --#{v.$prefix}padding-top );
    padding-bottom:var( --#{v.$prefix}padding-bottom );
    padding-left:var( --#{v.$prefix}padding-left );
    padding-right:var( --#{v.$prefix}padding-right );
    background-color:var( --#{v.$prefix}background-color );
    font-size:1em;

    @media screen and ( min-width: #{ map-get( v.$breakpoints, "mobile" ) } ) { 

        --#{v.$prefix}padding-top: #{ map-get( v.$gutters, 'md' ) };
        --#{v.$prefix}padding-bottom: #{ map-get( v.$gutters, 'md' ) };

    }
    
    .wrapper {

        --#{v.$prefix}margin-bottom: 0;

        border-radius:var( --#{v.$prefix}image-border-radius );
        margin-bottom:var( --#{v.$prefix}margin-bottom );
        overflow:hidden;

    }
    .content {

        --#{v.$prefix}padding-top: #{ map-get( v.$spacing, 'md' ) };
        --#{v.$prefix}padding-bottom: #{ map-get( v.$spacing, 'md' ) };

        padding-top:var( --#{v.$prefix}padding-top );
        padding-bottom:var( --#{v.$prefix}padding-bottom );

        .date,
        .title,
        .authors {

            font-size:#{ map-get( v.$font-size, 'normal' ) };
            line-height:#{ map-get( v.$line-height, 'normal' ) };
            display:block;

            > span { display:block; }

        }
        .title { padding-bottom:#{ map-get( v.$spacing, 'sm' ) }; }

    }

    .link-title { display:inline; }

    > a,
    .link-title {

        --#{v.$prefix}font-size: #{ map-get( v.$font-size, 'service' ) };
        --#{v.$prefix}font-weight: #{ map-get( v.$font-weight, 'light' ) };

        font-size:var( --#{v.$prefix}font-size );
        font-weight:var( --#{v.$prefix}font-weight );
        line-height:#{ map-get( v.$line-height, 'small' ) };
        text-decoration:none;

    }

    // is link
    &:is(a) {

        --#{v.$prefix}text-decoration-color: transparent;

        .wrapper {

            position:relative;

            .thumbnail { 
                
                @include transition.x-transition( $t: transform );
                z-index:9;
            
            }

        }
        .content {

            .title {

                @include transition.x-transition( $t: color );

                text-decoration:none;
                text-decoration-color: var( --#{v.$prefix}text-decoration-color );

            }
            .date,
            .authors { color:var( --#{v.$prefix}text-color ); }
            .link-title {

                @include transition.x-transition( all );
                @include link.linkUnderline();

                --#{v.$prefix}link-underline-thickness: 2px;

            }

        }
        
        @include mixins.on-event { 
            
            .wrapper { .thumbnail { transform: scale( 1.1 ); } }
            .content { 
                
                .title { --#{v.$prefix}text-decoration-color: inherit; }
                .link-title { --#{v.$prefix}link-background-position: -100% 100%; }
            
            }
        
        }

    }

}